'''
n = (a**5 + 31*a + 1337)*(b**5 + 31*b + 1337)
n.nth_root(5) ~= a*b
Переберем все их делители a*b и найдем a и b, после чего факторизуем n и далее расшифруем RSA.  
'''
c = 299283280172784388002621777143112508232897482235938239132301676724645760470709838176572583363898894557257969776348582219682371374315371761439454132629047176255194022346550472893345926373575
n = 364630360821816958168159121172891438234154150910237507963558450347599753587713740340051298831730101264902452950320017666816377883225135609621929933304121406114748546253948502696206562238293

L = 0
R = 2^621

while L+1<R:
    M = (L+R)//2
    if M^5 < n:
        L = M
    elif M^5>n:
        R=M
    else:
        break

a_b = L
for a in L.divisors()[1:]:
    p = a**5 + 31*a + 1337
    if n%p==0:
        q =n//p
        print(p,q)
        break

d = pow(0x10001, -1, (p-1)*(q-1))
print(int(pow(c,d,n)).to_bytes(621//8,'big'))